<mindtagger mode="precision">

<template for="each-item">
  <strong>
  <a href="https://www.google.com/search?q={{item.gene_name}}" target="_blank">{{item.gene_name}}</a> -- 
  <a href="https://www.google.com/search?q={{item.pheno_name}}" target="_blank">{{item.pheno_name}}</a> 
  (<a href="https://www.google.com/search?q={{item.hpo_name}}" target="_blank">{{item.hpo_name}}</a>) 
  </strong> (association expectation:
  <strong>{{item.assoc_expectation}}</strong>, causation expectation:
  <strong>{{item.cause_expectation}}</strong>, gene_expectation:
  <strong>{{item.gene_expectation}}</strong>, hpoterm_expectation:
  <strong>{{item.pheno_expectation}}</strong>) in:
  <blockquote>
    <!-- <span class="text-muted">{{item.sentences_before | concatArray:'postgres'}}</span> -->
    <big mindtagger-word-array="item.words" array-format="postgres">
      <mindtagger-highlight-words index-array="item.gene_wordidxs" array-format="postgres" with-style="background-color: yellow; text-decoration: underline;"/>
      <mindtagger-highlight-words index-array="item.pheno_wordidxs" array-format="postgres" with-style="background-color: aquamarine; text-decoration: underline;"/>
    </big>
    <!-- <span class="text-muted">{{item.sentences_after | concatArray:'postgres'}}</span> -->
  </blockquote>

  <b>Show features: </b>
  <input type="checkbox" ng-model="collapse" />

  <b>Association features:</b>
  
  <!-- Enumerate features with weights (leveraging AngularJS a bit more)-->
  <div class="row">
    <div class="col-sm-offset-1 col-sm-10">
      <table class="table table-striped table-condensed table-hover" ng-show="collapse">
        <thead><tr>
          <th class="col-sm-1">Weight</th>
          <th>Feature</th>
        </tr></thead>
	<tbody>
          <tr ng-repeat="feature in (item.assoc_features | parsedArray:'postgres') | limitTo:5 track by $index">
            <td class="text-right">{{(item.assoc_weights | parsedArray:'postgres')[$index] | number:4}}</td>
            <th>{{feature}}</th>
          </tr>
	</tbody>
      </table>
    </div>
  </div>

  <b>Causation features:</b>

  <!-- Enumerate features with weights (leveraging AngularJS a bit more)-->
  <div class="row">
    <div class="col-sm-offset-1 col-sm-10">
      <table class="table table-striped table-condensed table-hover" ng-show="collapse">
        <thead><tr>
          <th class="col-sm-1">Weight</th>
          <th>Feature</th>
        </tr></thead>
	<tbody>
          <tr ng-repeat="feature in (item.cause_features | parsedArray:'postgres') | limitTo:5 track by $index">
            <td class="text-right">{{(item.cause_weights | parsedArray:'postgres')[$index] | number:4}}</td>
            <th>{{feature}}</th>
          </tr>
	</tbody>
      </table>
    </div>
  </div>

  <b>Association type: <i>{{item.assoc_supertype}} ({{item.assoc_subtype}})</i></b><br/>
  <b>Causation type: <i>{{item.cause_supertype}} ({{item.cause_subtype}})</i></b><br/>

  <div mindtagger-item-details></div>
</template>
<template for="tags">
  <span mindtagger-adhoc-tags></span>
  <span mindtagger-note-tags></span>
</template>
</mindtagger>
