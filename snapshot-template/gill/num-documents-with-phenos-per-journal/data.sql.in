SELECT
  count(DISTINCT a.docid), a.jname
  FROM
    (SELECT b.id[0:5] AS docid, b.id[3] AS type, b.id[4] as jname 
     FROM (SELECT string_to_array(doc_id, '.') id FROM pheno_mentions WHERE is_correct != 'f' OR is_correct IS NULL) b) a
  WHERE
    a.type = 'journal'
  GROUP BY
    a.jname
  ORDER BY
    count DESC
